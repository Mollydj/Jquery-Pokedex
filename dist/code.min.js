var pokemonRepository=function(){var t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=150",o=$("ul"),n=$("#modal-container");function i(t){pokemonRepository.loadDetails(t).then(function(){a(t)})}function a(t){$(".modal-body").empty(),$(".modal-title").text(t.name),$(".modal-body").append('<img src=" '+t.imageUrl+' " class="img-fluid" alt="Responsive image"> '),$(".modal-body").append("<p>Height: "+t.height+" Decimetres</p>"),$(".modal-body").append("<p>Weight: "+t.weight+" Hectograms</p>")}function l(){n.removeClass("is-visible")}function c(e){t.push(e)}return $(document).keydown(function(t){"Escape"===t.key&&l()}),n.click(function(){l()}),{add:c,getAll:function(){return t},addListItem:function(t){var e=$("<li></li>");o.append(e);var n=$('<button type="button" id="pokemon-name" class=" btn btn-default btn-lg btn-block list-group-item list-group-item-action col-12" data-toggle="modal" data-target="#exampleModal"></button>');n.text(t.name),e.append(n),n.on("click",function(){i(t)})},showDetails:i,loadList:function(){return $.ajax(e,{dataType:"json"}).then(function(t){$.each(t.results,function(t,e){c({name:e.name,detailsUrl:e.url})})}).catch(function(t){document.write(t)})},loadDetails:function(t){var e=t.detailsUrl;return $.ajax(e,{dataType:"json"}).then(function(t){return t}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,t.types=Object.keys(e.types)}).catch(function(t){console.error(t)})},showModal:a,hideModal:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
